<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Book Store</title>
  <script>
    function addToCart(bookId) {
    fetch('/add-to-cart', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
        },
        body: 'bookId=' + bookId
    })
    .then(response => response.text())
    .then(data => console.log(data))
    .catch((error) => {
        console.error('Error:', error);
    });
}
  </script>
</head>
<body>
<h1>Book List - Test</h1>
<div th:each="book : ${books}">
  <p th:text="${book.bookName}"></p>
  <p th:text="${book.price}"></p>
  <p th:text="${book.genre}"></p>
  <button onclick="addToCart([[${book.id}]])">Add to cart</button>
</div>
<h1>Recommended Books</h1>
<div th:each="book : ${recommendedBooks}">
  <p th:text="${book.bookName}"></p>
</div>
<div>
  <a href="/checkout">Checkout</a>
</div>
</body>
</html>